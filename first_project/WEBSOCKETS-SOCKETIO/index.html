<!DOCTYPE html>
<html>
  <head>
    <!-- Este script no existe!, y está bien que así sea, ya que lo genera 
         SocketIO automáticamente al recibir el pedido del archivo -->
    <script src="/socket.io/socket.io.js" type="text/javascript"></script>
 
    <script type="text/javascript">
      // Nos conectamos al WebSocket
      var socket = io.connect('http://localhost');
 
      // Nos suscribimos al mensaje de bienvenida 
      // que creamos en el servidor
      socket.on('bienvenida', function (bienvenida) {
        document.write(bienvenida.digo);
         
        // Una vez que nos saluda el servidor
        // Le enviamos un mensaje pidiendo un random 
        // cada 5 segundos (5000 milisegundos)
        socket.emit('quiero un random', 5000);
      });
 
      // Por otro lado nos suscribimos al mensaje del
      // del servidor para el número random que nos va a enviar
      socket.on('toma un random', function (data) {
        console.log(data.numero);
      }); 
    </script>
  </head>
  <body>
    <!-- acá toda la magia en HTML -->
  <body/>
</html>